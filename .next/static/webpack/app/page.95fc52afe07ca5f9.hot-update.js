"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/hooks/useSyncManager.ts":
/*!*************************************!*\
  !*** ./src/hooks/useSyncManager.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSyncManager: () => (/* binding */ useSyncManager)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(app-pages-browser)/./src/lib/db.ts\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(app-pages-browser)/./src/contexts/AuthContext.tsx\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ useSyncManager auto */ /**\n * useSyncManager - The Heart of Offline-First Sync.\n * - Listens to navigator.onLine; on reconnection runs pull then push.\n * - Pull: GET /sync/pull?tenant_id=&max_version_id= → apply delta to Dexie (server wins for products).\n * - Push: POST /sync with SyncQueue items → server processes in transaction, returns version_id.\n */ \n\n\nconst SYNC_META_KEY_MAX_VERSION = 'local_max_version_id';\nconst SIMULATE_OFFLINE_KEY = 'bluecounts_simulate_offline';\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\nfunction getSimulateOffline() {\n    if (false) {}\n    return localStorage.getItem(SIMULATE_OFFLINE_KEY) === '1';\n}\nfunction authHeaders() {\n    const token = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__.getAuthToken)();\n    const h = {\n        'Content-Type': 'application/json'\n    };\n    if (token) h['Authorization'] = \"Bearer \".concat(token);\n    return h;\n}\nfunction useSyncManager(param) {\n    let { tenantId, outletId, deviceId, enabled = true } = param;\n    const [simulateOffline, setSimulateOfflineState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useSyncManager.useState\": ()=> true && getSimulateOffline()\n    }[\"useSyncManager.useState\"]);\n    const actuallyOnline =  true ? window.navigator.onLine : 0;\n    const isOnline = actuallyOnline && !simulateOffline;\n    const setSimulateOffline = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSyncManager.useCallback[setSimulateOffline]\": (value)=>{\n            if (false) {}\n            if (value) localStorage.setItem(SIMULATE_OFFLINE_KEY, '1');\n            else localStorage.removeItem(SIMULATE_OFFLINE_KEY);\n            setSimulateOfflineState(value);\n        }\n    }[\"useSyncManager.useCallback[setSimulateOffline]\"], []);\n    const [syncState, setSyncState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('idle');\n    const [lastError, setLastError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [pendingCount, setPendingCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const getMaxVersion = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSyncManager.useCallback[getMaxVersion]\": async ()=>{\n            const row = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sync_meta.get(SYNC_META_KEY_MAX_VERSION);\n            const v = row === null || row === void 0 ? void 0 : row.value;\n            if (typeof v === 'number') return v;\n            if (typeof v === 'string') return parseInt(v, 10) || 0;\n            return 0;\n        }\n    }[\"useSyncManager.useCallback[getMaxVersion]\"], []);\n    const setMaxVersion = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSyncManager.useCallback[setMaxVersion]\": async (version)=>{\n            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sync_meta.put({\n                key: SYNC_META_KEY_MAX_VERSION,\n                value: version\n            });\n        }\n    }[\"useSyncManager.useCallback[setMaxVersion]\"], []);\n    const pull = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSyncManager.useCallback[pull]\": async function() {\n            let forceFullSync = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n            if (!tenantId) return;\n            setSyncState('pulling');\n            setLastError(null);\n            try {\n                var _tables_products, _tables_inventory, _tables_sales, _tables_sale_items, _tables_pos_sessions;\n                let maxVer = await getMaxVersion();\n                if (forceFullSync) {\n                    maxVer = 0;\n                } else {\n                    const hasLocalData = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.products.where('tenant_id').equals(tenantId).count();\n                    if (hasLocalData === 0) {\n                        maxVer = 0;\n                    }\n                }\n                const url = \"\".concat(API_BASE, \"/sync/pull?tenant_id=\").concat(encodeURIComponent(tenantId), \"&max_version_id=\").concat(maxVer);\n                const res = await fetch(url, {\n                    headers: authHeaders()\n                });\n                if (!res.ok) throw new Error(\"Pull failed: \".concat(res.status));\n                const data = await res.json();\n                const { tables, server_max_version_id } = data;\n                if ((_tables_products = tables.products) === null || _tables_products === void 0 ? void 0 : _tables_products.length) {\n                    for (const row of tables.products){\n                        if (row.deleted_at) {\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.products.update(row.id, {\n                                deleted_at: row.deleted_at,\n                                version_id: row.version_id\n                            });\n                        } else {\n                            var _row_description, _row_deleted_at;\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.products.put({\n                                id: row.id,\n                                tenant_id: row.tenant_id,\n                                sku: row.sku,\n                                name: row.name,\n                                description: (_row_description = row.description) !== null && _row_description !== void 0 ? _row_description : null,\n                                price: Number(row.price),\n                                version_id: row.version_id,\n                                created_at: row.created_at,\n                                updated_at: row.updated_at,\n                                deleted_at: (_row_deleted_at = row.deleted_at) !== null && _row_deleted_at !== void 0 ? _row_deleted_at : null\n                            });\n                        }\n                    }\n                }\n                if ((_tables_inventory = tables.inventory) === null || _tables_inventory === void 0 ? void 0 : _tables_inventory.length) {\n                    for (const row of tables.inventory){\n                        const productKey = [\n                            row.tenant_id,\n                            row.outlet_id,\n                            row.product_id\n                        ];\n                        const existing = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.inventory.where('[tenant_id+outlet_id+product_id]').equals(productKey).toArray();\n                        for (const e of existing){\n                            if (e.id !== row.id) await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.inventory.delete(e.id);\n                        }\n                        if (row.deleted_at) {\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.inventory.update(row.id, {\n                                deleted_at: row.deleted_at,\n                                version_id: row.version_id\n                            });\n                        } else {\n                            var _row_deleted_at1;\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.inventory.put({\n                                id: row.id,\n                                tenant_id: row.tenant_id,\n                                outlet_id: row.outlet_id,\n                                product_id: row.product_id,\n                                quantity: Number(row.quantity),\n                                version_id: row.version_id,\n                                created_at: row.created_at,\n                                updated_at: row.updated_at,\n                                deleted_at: (_row_deleted_at1 = row.deleted_at) !== null && _row_deleted_at1 !== void 0 ? _row_deleted_at1 : null\n                            });\n                        }\n                    }\n                }\n                if ((_tables_sales = tables.sales) === null || _tables_sales === void 0 ? void 0 : _tables_sales.length) {\n                    for (const row of tables.sales){\n                        if (row.deleted_at) {\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sales.update(row.id, {\n                                deleted_at: row.deleted_at,\n                                version_id: row.version_id\n                            });\n                        } else {\n                            var _row_session_id, _row_deleted_at2;\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sales.put({\n                                id: row.id,\n                                tenant_id: row.tenant_id,\n                                outlet_id: row.outlet_id,\n                                device_id: row.device_id,\n                                session_id: (_row_session_id = row.session_id) !== null && _row_session_id !== void 0 ? _row_session_id : null,\n                                device_transaction_id: row.device_transaction_id,\n                                total_amount: Number(row.total_amount),\n                                version_id: row.version_id,\n                                created_at: row.created_at,\n                                updated_at: row.updated_at,\n                                deleted_at: (_row_deleted_at2 = row.deleted_at) !== null && _row_deleted_at2 !== void 0 ? _row_deleted_at2 : null\n                            });\n                        }\n                    }\n                }\n                if ((_tables_sale_items = tables.sale_items) === null || _tables_sale_items === void 0 ? void 0 : _tables_sale_items.length) {\n                    for (const row of tables.sale_items){\n                        if (row.deleted_at) {\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sale_items.update(row.id, {\n                                deleted_at: row.deleted_at,\n                                version_id: row.version_id\n                            });\n                        } else {\n                            var _row_deleted_at3;\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sale_items.put({\n                                id: row.id,\n                                tenant_id: row.tenant_id,\n                                outlet_id: row.outlet_id,\n                                sale_id: row.sale_id,\n                                product_id: row.product_id,\n                                quantity: row.quantity,\n                                unit_price: Number(row.unit_price),\n                                line_total: Number(row.line_total),\n                                version_id: row.version_id,\n                                created_at: row.created_at,\n                                deleted_at: (_row_deleted_at3 = row.deleted_at) !== null && _row_deleted_at3 !== void 0 ? _row_deleted_at3 : null\n                            });\n                        }\n                    }\n                }\n                if ((_tables_pos_sessions = tables.pos_sessions) === null || _tables_pos_sessions === void 0 ? void 0 : _tables_pos_sessions.length) {\n                    for (const row of tables.pos_sessions){\n                        if (row.deleted_at) {\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.pos_sessions.update(row.id, {\n                                deleted_at: row.deleted_at,\n                                version_id: row.version_id\n                            });\n                        } else {\n                            var _row_device_id, _row_closed_at, _row_deleted_at4;\n                            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.pos_sessions.put({\n                                id: row.id,\n                                tenant_id: row.tenant_id,\n                                outlet_id: row.outlet_id,\n                                user_id: row.user_id,\n                                device_id: (_row_device_id = row.device_id) !== null && _row_device_id !== void 0 ? _row_device_id : null,\n                                opening_balance: Number(row.opening_balance),\n                                closing_balance: row.closing_balance != null ? Number(row.closing_balance) : null,\n                                expected_balance: row.expected_balance != null ? Number(row.expected_balance) : null,\n                                status: row.status === 'closed' ? 'closed' : 'open',\n                                opened_at: row.opened_at,\n                                closed_at: (_row_closed_at = row.closed_at) !== null && _row_closed_at !== void 0 ? _row_closed_at : null,\n                                version_id: row.version_id,\n                                deleted_at: (_row_deleted_at4 = row.deleted_at) !== null && _row_deleted_at4 !== void 0 ? _row_deleted_at4 : null\n                            });\n                        }\n                    }\n                }\n                if (typeof server_max_version_id === 'number') {\n                    await setMaxVersion(server_max_version_id);\n                }\n            } catch (e) {\n                const msg = e instanceof Error ? e.message : 'Pull failed';\n                setLastError(msg);\n                setSyncState('error');\n                return;\n            }\n            setSyncState('idle');\n        }\n    }[\"useSyncManager.useCallback[pull]\"], [\n        tenantId,\n        outletId,\n        getMaxVersion,\n        setMaxVersion\n    ]);\n    const push = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSyncManager.useCallback[push]\": async ()=>{\n            if (!tenantId || !outletId || !deviceId) return;\n            const pending = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sync_queue.where('status').equals('pending').toArray();\n            if (pending.length === 0) {\n                setPendingCount(0);\n                return;\n            }\n            setSyncState('pushing');\n            setLastError(null);\n            try {\n                const items = pending.map({\n                    \"useSyncManager.useCallback[push].items\": (q)=>({\n                            id: q.id,\n                            action_type: q.action_type,\n                            payload: q.payload\n                        })\n                }[\"useSyncManager.useCallback[push].items\"]);\n                const res = await fetch(\"\".concat(API_BASE, \"/sync\"), {\n                    method: 'POST',\n                    headers: authHeaders(),\n                    body: JSON.stringify({\n                        tenant_id: tenantId,\n                        outlet_id: outletId,\n                        device_id: deviceId,\n                        items\n                    })\n                });\n                if (!res.ok) {\n                    const errBody = await res.text();\n                    throw new Error(errBody || \"Push failed: \".concat(res.status));\n                }\n                const data = await res.json();\n                if (data.version_id != null) await setMaxVersion(data.version_id);\n                for (const r of data.results || []){\n                    if (r.status === 'accepted' || r.status === 'synced') {\n                        await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sync_queue.update(r.queue_id, {\n                            status: 'synced'\n                        });\n                    } else if (r.status === 'failed') {\n                        await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sync_queue.update(r.queue_id, {\n                            status: 'failed',\n                            error_message: r.error\n                        });\n                    }\n                }\n                const stillPending = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sync_queue.where('status').equals('pending').count();\n                setPendingCount(stillPending);\n            } catch (e) {\n                const msg = e instanceof Error ? e.message : 'Push failed';\n                setLastError(msg);\n                setSyncState('error');\n                return;\n            }\n            setSyncState('idle');\n            const stillPending = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sync_queue.where('status').equals('pending').count();\n            setPendingCount(stillPending);\n        }\n    }[\"useSyncManager.useCallback[push]\"], [\n        tenantId,\n        outletId,\n        deviceId,\n        setMaxVersion\n    ]);\n    const sync = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSyncManager.useCallback[sync]\": async ()=>{\n            if (!enabled) return;\n            await pull(true);\n            await push();\n            await pull(true);\n        }\n    }[\"useSyncManager.useCallback[sync]\"], [\n        enabled,\n        pull,\n        push\n    ]);\n    // When online (and not simulating offline), do a full pull on page load.\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useSyncManager.useEffect\": ()=>{\n            if ( false || !enabled || !tenantId || !isOnline) return;\n            pull(true);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"useSyncManager.useEffect\"], [\n        tenantId,\n        enabled,\n        isOnline\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useSyncManager.useEffect\": ()=>{\n            if (false) {}\n            const handleOnline = {\n                \"useSyncManager.useEffect.handleOnline\": ()=>{\n                    if (!getSimulateOffline() && enabled && tenantId) sync();\n                }\n            }[\"useSyncManager.useEffect.handleOnline\"];\n            window.addEventListener('online', handleOnline);\n            return ({\n                \"useSyncManager.useEffect\": ()=>window.removeEventListener('online', handleOnline)\n            })[\"useSyncManager.useEffect\"];\n        }\n    }[\"useSyncManager.useEffect\"], [\n        enabled,\n        tenantId,\n        sync\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useSyncManager.useEffect\": ()=>{\n            let cancelled = false;\n            _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sync_queue.where('status').equals('pending').count().then({\n                \"useSyncManager.useEffect\": (c)=>{\n                    if (!cancelled) setPendingCount(c);\n                }\n            }[\"useSyncManager.useEffect\"]);\n            const interval = setInterval({\n                \"useSyncManager.useEffect.interval\": ()=>{\n                    _lib_db__WEBPACK_IMPORTED_MODULE_1__.db.sync_queue.where('status').equals('pending').count().then({\n                        \"useSyncManager.useEffect.interval\": (c)=>{\n                            if (!cancelled) setPendingCount(c);\n                        }\n                    }[\"useSyncManager.useEffect.interval\"]);\n                }\n            }[\"useSyncManager.useEffect.interval\"], 2000);\n            return ({\n                \"useSyncManager.useEffect\": ()=>{\n                    cancelled = true;\n                    clearInterval(interval);\n                }\n            })[\"useSyncManager.useEffect\"];\n        }\n    }[\"useSyncManager.useEffect\"], []);\n    return {\n        isOnline,\n        syncState,\n        lastError,\n        pendingCount,\n        sync,\n        pull,\n        push,\n        simulateOffline,\n        setSimulateOffline\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VTeW5jTWFuYWdlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7b0VBRUE7Ozs7O0NBS0MsR0FFd0Q7QUFDTDtBQUNFO0FBRXRELE1BQU1LLDRCQUE0QjtBQUNsQyxNQUFNQyx1QkFBdUI7QUFDN0IsTUFBTUMsV0FBV0MsT0FBT0EsQ0FBQ0MsR0FBRyxDQUFDQyxtQkFBbUIsSUFBSTtBQUVwRCxTQUFTQztJQUNQLElBQUksS0FBNkIsRUFBRSxFQUFhO0lBQ2hELE9BQU9DLGFBQWFDLE9BQU8sQ0FBQ1AsMEJBQTBCO0FBQ3hEO0FBRUEsU0FBU1E7SUFDUCxNQUFNQyxRQUFRWCxtRUFBWUE7SUFDMUIsTUFBTVksSUFBaUI7UUFBRSxnQkFBZ0I7SUFBbUI7SUFDNUQsSUFBSUQsT0FBTyxDQUE2QixDQUFDLGdCQUFnQixHQUFHLFVBQWdCLE9BQU5BO0lBQ3RFLE9BQU9DO0FBQ1Q7QUFXTyxTQUFTQyxlQUFlLEtBQXVFO1FBQXZFLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFVBQVUsSUFBSSxFQUF5QixHQUF2RTtJQUM3QixNQUFNLENBQUNDLGlCQUFpQkMsd0JBQXdCLEdBQUdyQiwrQ0FBUUE7bUNBQ3pELElBQU0sS0FBNkIsSUFBSVM7O0lBRXpDLE1BQU1hLGlCQUFpQixLQUE2QixHQUFHQyxPQUFPQyxTQUFTLENBQUNDLE1BQU0sR0FBRyxDQUFJO0lBQ3JGLE1BQU1DLFdBQVdKLGtCQUFrQixDQUFDRjtJQUVwQyxNQUFNTyxxQkFBcUI3QixrREFBV0E7MERBQUMsQ0FBQzhCO1lBQ3RDLElBQUksS0FBNkIsRUFBRSxFQUFPO1lBQzFDLElBQUlBLE9BQU9sQixhQUFhbUIsT0FBTyxDQUFDekIsc0JBQXNCO2lCQUNqRE0sYUFBYW9CLFVBQVUsQ0FBQzFCO1lBQzdCaUIsd0JBQXdCTztRQUMxQjt5REFBRyxFQUFFO0lBRUwsTUFBTSxDQUFDRyxXQUFXQyxhQUFhLEdBQUdoQywrQ0FB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QUN6RDttQ0FBRztRQUFDL0I7UUFBVUc7UUFBU087S0FBUztJQUVoQzNCLGdEQUFTQTtvQ0FBQztZQUNSLElBQUksS0FBNkIsRUFBRSxFQUFPO1lBQzFDLE1BQU1pSTt5REFBZTtvQkFDbkIsSUFBSSxDQUFDdkgsd0JBQXdCVSxXQUFXSCxVQUFVK0c7Z0JBQ3BEOztZQUNBeEcsT0FBTzBHLGdCQUFnQixDQUFDLFVBQVVEO1lBQ2xDOzRDQUFPLElBQU16RyxPQUFPMkcsbUJBQW1CLENBQUMsVUFBVUY7O1FBQ3BEO21DQUFHO1FBQUM3RztRQUFTSDtRQUFVK0c7S0FBSztJQUU1QmhJLGdEQUFTQTtvQ0FBQztZQUNSLElBQUlvSSxZQUFZO1lBQ2hCbEksdUNBQUVBLENBQUM0RyxVQUFVLENBQUN4RCxLQUFLLENBQUMsVUFBVUMsTUFBTSxDQUFDLFdBQVdDLEtBQUssR0FBRzZFLElBQUk7NENBQUMsQ0FBQ0M7b0JBQzVELElBQUksQ0FBQ0YsV0FBVy9GLGdCQUFnQmlHO2dCQUNsQzs7WUFDQSxNQUFNQyxXQUFXQztxREFBWTtvQkFDM0J0SSx1Q0FBRUEsQ0FBQzRHLFVBQVUsQ0FBQ3hELEtBQUssQ0FBQyxVQUFVQyxNQUFNLENBQUMsV0FBV0MsS0FBSyxHQUFHNkUsSUFBSTs2REFBQyxDQUFDQzs0QkFDNUQsSUFBSSxDQUFDRixXQUFXL0YsZ0JBQWdCaUc7d0JBQ2xDOztnQkFDRjtvREFBRztZQUNIOzRDQUFPO29CQUNMRixZQUFZO29CQUNaSyxjQUFjRjtnQkFDaEI7O1FBQ0Y7bUNBQUcsRUFBRTtJQUVMLE9BQU87UUFDTDVHO1FBQ0FLO1FBQ0FFO1FBQ0FFO1FBQ0E0RjtRQUNBaEY7UUFDQTREO1FBQ0F2RjtRQUNBTztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy90aW1vdGh5ZWRpYm8vcHJvamVjdHMvcGVyc29uYWwvYmx1ZWNvdW50cy9mcm9udGVuZC9zcmMvaG9va3MvdXNlU3luY01hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG4vKipcbiAqIHVzZVN5bmNNYW5hZ2VyIC0gVGhlIEhlYXJ0IG9mIE9mZmxpbmUtRmlyc3QgU3luYy5cbiAqIC0gTGlzdGVucyB0byBuYXZpZ2F0b3Iub25MaW5lOyBvbiByZWNvbm5lY3Rpb24gcnVucyBwdWxsIHRoZW4gcHVzaC5cbiAqIC0gUHVsbDogR0VUIC9zeW5jL3B1bGw/dGVuYW50X2lkPSZtYXhfdmVyc2lvbl9pZD0g4oaSIGFwcGx5IGRlbHRhIHRvIERleGllIChzZXJ2ZXIgd2lucyBmb3IgcHJvZHVjdHMpLlxuICogLSBQdXNoOiBQT1NUIC9zeW5jIHdpdGggU3luY1F1ZXVlIGl0ZW1zIOKGkiBzZXJ2ZXIgcHJvY2Vzc2VzIGluIHRyYW5zYWN0aW9uLCByZXR1cm5zIHZlcnNpb25faWQuXG4gKi9cblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBkYiwgdHlwZSBTeW5jUXVldWVSZWNvcmQgfSBmcm9tICdAL2xpYi9kYic7XG5pbXBvcnQgeyBnZXRBdXRoVG9rZW4gfSBmcm9tICdAL2NvbnRleHRzL0F1dGhDb250ZXh0JztcblxuY29uc3QgU1lOQ19NRVRBX0tFWV9NQVhfVkVSU0lPTiA9ICdsb2NhbF9tYXhfdmVyc2lvbl9pZCc7XG5jb25zdCBTSU1VTEFURV9PRkZMSU5FX0tFWSA9ICdibHVlY291bnRzX3NpbXVsYXRlX29mZmxpbmUnO1xuY29uc3QgQVBJX0JBU0UgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDEnO1xuXG5mdW5jdGlvbiBnZXRTaW11bGF0ZU9mZmxpbmUoKTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU0lNVUxBVEVfT0ZGTElORV9LRVkpID09PSAnMSc7XG59XG5cbmZ1bmN0aW9uIGF1dGhIZWFkZXJzKCk6IEhlYWRlcnNJbml0IHtcbiAgY29uc3QgdG9rZW4gPSBnZXRBdXRoVG9rZW4oKTtcbiAgY29uc3QgaDogSGVhZGVyc0luaXQgPSB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTtcbiAgaWYgKHRva2VuKSAoaCBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KVsnQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3Rva2VufWA7XG4gIHJldHVybiBoO1xufVxuXG50eXBlIFN5bmNTdGF0ZSA9ICdpZGxlJyB8ICdwdWxsaW5nJyB8ICdwdXNoaW5nJyB8ICdlcnJvcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3luY01hbmFnZXJPcHRpb25zIHtcbiAgdGVuYW50SWQ6IHN0cmluZztcbiAgb3V0bGV0SWQ6IHN0cmluZztcbiAgZGV2aWNlSWQ6IHN0cmluZztcbiAgZW5hYmxlZD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTeW5jTWFuYWdlcih7IHRlbmFudElkLCBvdXRsZXRJZCwgZGV2aWNlSWQsIGVuYWJsZWQgPSB0cnVlIH06IFVzZVN5bmNNYW5hZ2VyT3B0aW9ucykge1xuICBjb25zdCBbc2ltdWxhdGVPZmZsaW5lLCBzZXRTaW11bGF0ZU9mZmxpbmVTdGF0ZV0gPSB1c2VTdGF0ZShcbiAgICAoKSA9PiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiBnZXRTaW11bGF0ZU9mZmxpbmUoKVxuICApO1xuICBjb25zdCBhY3R1YWxseU9ubGluZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93Lm5hdmlnYXRvci5vbkxpbmUgOiB0cnVlO1xuICBjb25zdCBpc09ubGluZSA9IGFjdHVhbGx5T25saW5lICYmICFzaW11bGF0ZU9mZmxpbmU7XG5cbiAgY29uc3Qgc2V0U2ltdWxhdGVPZmZsaW5lID0gdXNlQ2FsbGJhY2soKHZhbHVlOiBib29sZWFuKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgaWYgKHZhbHVlKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTSU1VTEFURV9PRkZMSU5FX0tFWSwgJzEnKTtcbiAgICBlbHNlIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNJTVVMQVRFX09GRkxJTkVfS0VZKTtcbiAgICBzZXRTaW11bGF0ZU9mZmxpbmVTdGF0ZSh2YWx1ZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBbc3luY1N0YXRlLCBzZXRTeW5jU3RhdGVdID0gdXNlU3RhdGU8U3luY1N0YXRlPignaWRsZScpO1xuICBjb25zdCBbbGFzdEVycm9yLCBzZXRMYXN0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwZW5kaW5nQ291bnQsIHNldFBlbmRpbmdDb3VudF0gPSB1c2VTdGF0ZSgwKTtcblxuICBjb25zdCBnZXRNYXhWZXJzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8bnVtYmVyPiA9PiB7XG4gICAgY29uc3Qgcm93ID0gYXdhaXQgZGIuc3luY19tZXRhLmdldChTWU5DX01FVEFfS0VZX01BWF9WRVJTSU9OKTtcbiAgICBjb25zdCB2ID0gcm93Py52YWx1ZTtcbiAgICBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSByZXR1cm4gdjtcbiAgICBpZiAodHlwZW9mIHYgPT09ICdzdHJpbmcnKSByZXR1cm4gcGFyc2VJbnQodiwgMTApIHx8IDA7XG4gICAgcmV0dXJuIDA7XG4gIH0sIFtdKTtcblxuICBjb25zdCBzZXRNYXhWZXJzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKHZlcnNpb246IG51bWJlcikgPT4ge1xuICAgIGF3YWl0IGRiLnN5bmNfbWV0YS5wdXQoeyBrZXk6IFNZTkNfTUVUQV9LRVlfTUFYX1ZFUlNJT04sIHZhbHVlOiB2ZXJzaW9uIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgcHVsbCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChmb3JjZUZ1bGxTeW5jID0gZmFsc2UpID0+IHtcbiAgICAgIGlmICghdGVuYW50SWQpIHJldHVybjtcbiAgICAgIHNldFN5bmNTdGF0ZSgncHVsbGluZycpO1xuICAgICAgc2V0TGFzdEVycm9yKG51bGwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IG1heFZlciA9IGF3YWl0IGdldE1heFZlcnNpb24oKTtcbiAgICAgICAgaWYgKGZvcmNlRnVsbFN5bmMpIHtcbiAgICAgICAgICBtYXhWZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGhhc0xvY2FsRGF0YSA9IGF3YWl0IGRiLnByb2R1Y3RzLndoZXJlKCd0ZW5hbnRfaWQnKS5lcXVhbHModGVuYW50SWQpLmNvdW50KCk7XG4gICAgICAgICAgaWYgKGhhc0xvY2FsRGF0YSA9PT0gMCkge1xuICAgICAgICAgICAgbWF4VmVyID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXJsID0gYCR7QVBJX0JBU0V9L3N5bmMvcHVsbD90ZW5hbnRfaWQ9JHtlbmNvZGVVUklDb21wb25lbnQodGVuYW50SWQpfSZtYXhfdmVyc2lvbl9pZD0ke21heFZlcn1gO1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7IGhlYWRlcnM6IGF1dGhIZWFkZXJzKCkgfSk7XG4gICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGBQdWxsIGZhaWxlZDogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBjb25zdCB7IHRhYmxlcywgc2VydmVyX21heF92ZXJzaW9uX2lkIH0gPSBkYXRhO1xuXG4gICAgICBpZiAodGFibGVzLnByb2R1Y3RzPy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChjb25zdCByb3cgb2YgdGFibGVzLnByb2R1Y3RzKSB7XG4gICAgICAgICAgaWYgKHJvdy5kZWxldGVkX2F0KSB7XG4gICAgICAgICAgICBhd2FpdCBkYi5wcm9kdWN0cy51cGRhdGUocm93LmlkLCB7IGRlbGV0ZWRfYXQ6IHJvdy5kZWxldGVkX2F0LCB2ZXJzaW9uX2lkOiByb3cudmVyc2lvbl9pZCB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgZGIucHJvZHVjdHMucHV0KHtcbiAgICAgICAgICAgICAgaWQ6IHJvdy5pZCxcbiAgICAgICAgICAgICAgdGVuYW50X2lkOiByb3cudGVuYW50X2lkLFxuICAgICAgICAgICAgICBza3U6IHJvdy5za3UsXG4gICAgICAgICAgICAgIG5hbWU6IHJvdy5uYW1lLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcm93LmRlc2NyaXB0aW9uID8/IG51bGwsXG4gICAgICAgICAgICAgIHByaWNlOiBOdW1iZXIocm93LnByaWNlKSxcbiAgICAgICAgICAgICAgdmVyc2lvbl9pZDogcm93LnZlcnNpb25faWQsXG4gICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5jcmVhdGVkX2F0LFxuICAgICAgICAgICAgICB1cGRhdGVkX2F0OiByb3cudXBkYXRlZF9hdCxcbiAgICAgICAgICAgICAgZGVsZXRlZF9hdDogcm93LmRlbGV0ZWRfYXQgPz8gbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRhYmxlcy5pbnZlbnRvcnk/Lmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0YWJsZXMuaW52ZW50b3J5KSB7XG4gICAgICAgICAgY29uc3QgcHJvZHVjdEtleSA9IFtyb3cudGVuYW50X2lkLCByb3cub3V0bGV0X2lkLCByb3cucHJvZHVjdF9pZF0gYXMgW3N0cmluZywgc3RyaW5nLCBzdHJpbmddO1xuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgZGIuaW52ZW50b3J5LndoZXJlKCdbdGVuYW50X2lkK291dGxldF9pZCtwcm9kdWN0X2lkXScpLmVxdWFscyhwcm9kdWN0S2V5KS50b0FycmF5KCk7XG4gICAgICAgICAgZm9yIChjb25zdCBlIG9mIGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBpZiAoZS5pZCAhPT0gcm93LmlkKSBhd2FpdCBkYi5pbnZlbnRvcnkuZGVsZXRlKGUuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocm93LmRlbGV0ZWRfYXQpIHtcbiAgICAgICAgICAgIGF3YWl0IGRiLmludmVudG9yeS51cGRhdGUocm93LmlkLCB7IGRlbGV0ZWRfYXQ6IHJvdy5kZWxldGVkX2F0LCB2ZXJzaW9uX2lkOiByb3cudmVyc2lvbl9pZCB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgZGIuaW52ZW50b3J5LnB1dCh7XG4gICAgICAgICAgICAgIGlkOiByb3cuaWQsXG4gICAgICAgICAgICAgIHRlbmFudF9pZDogcm93LnRlbmFudF9pZCxcbiAgICAgICAgICAgICAgb3V0bGV0X2lkOiByb3cub3V0bGV0X2lkLFxuICAgICAgICAgICAgICBwcm9kdWN0X2lkOiByb3cucHJvZHVjdF9pZCxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IE51bWJlcihyb3cucXVhbnRpdHkpLFxuICAgICAgICAgICAgICB2ZXJzaW9uX2lkOiByb3cudmVyc2lvbl9pZCxcbiAgICAgICAgICAgICAgY3JlYXRlZF9hdDogcm93LmNyZWF0ZWRfYXQsXG4gICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IHJvdy51cGRhdGVkX2F0LFxuICAgICAgICAgICAgICBkZWxldGVkX2F0OiByb3cuZGVsZXRlZF9hdCA/PyBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGFibGVzLnNhbGVzPy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChjb25zdCByb3cgb2YgdGFibGVzLnNhbGVzKSB7XG4gICAgICAgICAgaWYgKHJvdy5kZWxldGVkX2F0KSB7XG4gICAgICAgICAgICBhd2FpdCBkYi5zYWxlcy51cGRhdGUocm93LmlkLCB7IGRlbGV0ZWRfYXQ6IHJvdy5kZWxldGVkX2F0LCB2ZXJzaW9uX2lkOiByb3cudmVyc2lvbl9pZCB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgZGIuc2FsZXMucHV0KHtcbiAgICAgICAgICAgICAgaWQ6IHJvdy5pZCxcbiAgICAgICAgICAgICAgdGVuYW50X2lkOiByb3cudGVuYW50X2lkLFxuICAgICAgICAgICAgICBvdXRsZXRfaWQ6IHJvdy5vdXRsZXRfaWQsXG4gICAgICAgICAgICAgIGRldmljZV9pZDogcm93LmRldmljZV9pZCxcbiAgICAgICAgICAgICAgc2Vzc2lvbl9pZDogcm93LnNlc3Npb25faWQgPz8gbnVsbCxcbiAgICAgICAgICAgICAgZGV2aWNlX3RyYW5zYWN0aW9uX2lkOiByb3cuZGV2aWNlX3RyYW5zYWN0aW9uX2lkLFxuICAgICAgICAgICAgICB0b3RhbF9hbW91bnQ6IE51bWJlcihyb3cudG90YWxfYW1vdW50KSxcbiAgICAgICAgICAgICAgdmVyc2lvbl9pZDogcm93LnZlcnNpb25faWQsXG4gICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5jcmVhdGVkX2F0LFxuICAgICAgICAgICAgICB1cGRhdGVkX2F0OiByb3cudXBkYXRlZF9hdCxcbiAgICAgICAgICAgICAgZGVsZXRlZF9hdDogcm93LmRlbGV0ZWRfYXQgPz8gbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRhYmxlcy5zYWxlX2l0ZW1zPy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChjb25zdCByb3cgb2YgdGFibGVzLnNhbGVfaXRlbXMpIHtcbiAgICAgICAgICBpZiAocm93LmRlbGV0ZWRfYXQpIHtcbiAgICAgICAgICAgIGF3YWl0IGRiLnNhbGVfaXRlbXMudXBkYXRlKHJvdy5pZCwgeyBkZWxldGVkX2F0OiByb3cuZGVsZXRlZF9hdCwgdmVyc2lvbl9pZDogcm93LnZlcnNpb25faWQgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IGRiLnNhbGVfaXRlbXMucHV0KHtcbiAgICAgICAgICAgICAgaWQ6IHJvdy5pZCxcbiAgICAgICAgICAgICAgdGVuYW50X2lkOiByb3cudGVuYW50X2lkLFxuICAgICAgICAgICAgICBvdXRsZXRfaWQ6IHJvdy5vdXRsZXRfaWQsXG4gICAgICAgICAgICAgIHNhbGVfaWQ6IHJvdy5zYWxlX2lkLFxuICAgICAgICAgICAgICBwcm9kdWN0X2lkOiByb3cucHJvZHVjdF9pZCxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IHJvdy5xdWFudGl0eSxcbiAgICAgICAgICAgICAgdW5pdF9wcmljZTogTnVtYmVyKHJvdy51bml0X3ByaWNlKSxcbiAgICAgICAgICAgICAgbGluZV90b3RhbDogTnVtYmVyKHJvdy5saW5lX3RvdGFsKSxcbiAgICAgICAgICAgICAgdmVyc2lvbl9pZDogcm93LnZlcnNpb25faWQsXG4gICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5jcmVhdGVkX2F0LFxuICAgICAgICAgICAgICBkZWxldGVkX2F0OiByb3cuZGVsZXRlZF9hdCA/PyBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGFibGVzLnBvc19zZXNzaW9ucz8ubGVuZ3RoKSB7XG4gICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHRhYmxlcy5wb3Nfc2Vzc2lvbnMpIHtcbiAgICAgICAgICBpZiAocm93LmRlbGV0ZWRfYXQpIHtcbiAgICAgICAgICAgIGF3YWl0IGRiLnBvc19zZXNzaW9ucy51cGRhdGUocm93LmlkLCB7IGRlbGV0ZWRfYXQ6IHJvdy5kZWxldGVkX2F0LCB2ZXJzaW9uX2lkOiByb3cudmVyc2lvbl9pZCB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgZGIucG9zX3Nlc3Npb25zLnB1dCh7XG4gICAgICAgICAgICAgIGlkOiByb3cuaWQsXG4gICAgICAgICAgICAgIHRlbmFudF9pZDogcm93LnRlbmFudF9pZCxcbiAgICAgICAgICAgICAgb3V0bGV0X2lkOiByb3cub3V0bGV0X2lkLFxuICAgICAgICAgICAgICB1c2VyX2lkOiByb3cudXNlcl9pZCxcbiAgICAgICAgICAgICAgZGV2aWNlX2lkOiByb3cuZGV2aWNlX2lkID8/IG51bGwsXG4gICAgICAgICAgICAgIG9wZW5pbmdfYmFsYW5jZTogTnVtYmVyKHJvdy5vcGVuaW5nX2JhbGFuY2UpLFxuICAgICAgICAgICAgICBjbG9zaW5nX2JhbGFuY2U6IHJvdy5jbG9zaW5nX2JhbGFuY2UgIT0gbnVsbCA/IE51bWJlcihyb3cuY2xvc2luZ19iYWxhbmNlKSA6IG51bGwsXG4gICAgICAgICAgICAgIGV4cGVjdGVkX2JhbGFuY2U6IHJvdy5leHBlY3RlZF9iYWxhbmNlICE9IG51bGwgPyBOdW1iZXIocm93LmV4cGVjdGVkX2JhbGFuY2UpIDogbnVsbCxcbiAgICAgICAgICAgICAgc3RhdHVzOiByb3cuc3RhdHVzID09PSAnY2xvc2VkJyA/ICdjbG9zZWQnIDogJ29wZW4nLFxuICAgICAgICAgICAgICBvcGVuZWRfYXQ6IHJvdy5vcGVuZWRfYXQsXG4gICAgICAgICAgICAgIGNsb3NlZF9hdDogcm93LmNsb3NlZF9hdCA/PyBudWxsLFxuICAgICAgICAgICAgICB2ZXJzaW9uX2lkOiByb3cudmVyc2lvbl9pZCxcbiAgICAgICAgICAgICAgZGVsZXRlZF9hdDogcm93LmRlbGV0ZWRfYXQgPz8gbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNlcnZlcl9tYXhfdmVyc2lvbl9pZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgYXdhaXQgc2V0TWF4VmVyc2lvbihzZXJ2ZXJfbWF4X3ZlcnNpb25faWQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnN0IG1zZyA9IGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6ICdQdWxsIGZhaWxlZCc7XG4gICAgICBzZXRMYXN0RXJyb3IobXNnKTtcbiAgICAgIHNldFN5bmNTdGF0ZSgnZXJyb3InKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0U3luY1N0YXRlKCdpZGxlJyk7XG4gIH0sXG4gICAgW3RlbmFudElkLCBvdXRsZXRJZCwgZ2V0TWF4VmVyc2lvbiwgc2V0TWF4VmVyc2lvbl1cbiAgKTtcblxuICBjb25zdCBwdXNoID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdGVuYW50SWQgfHwgIW91dGxldElkIHx8ICFkZXZpY2VJZCkgcmV0dXJuO1xuICAgIGNvbnN0IHBlbmRpbmcgPSBhd2FpdCBkYi5zeW5jX3F1ZXVlLndoZXJlKCdzdGF0dXMnKS5lcXVhbHMoJ3BlbmRpbmcnKS50b0FycmF5KCk7XG4gICAgaWYgKHBlbmRpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZXRQZW5kaW5nQ291bnQoMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldFN5bmNTdGF0ZSgncHVzaGluZycpO1xuICAgIHNldExhc3RFcnJvcihudWxsKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaXRlbXMgPSBwZW5kaW5nLm1hcCgocTogU3luY1F1ZXVlUmVjb3JkKSA9PiAoe1xuICAgICAgICBpZDogcS5pZCxcbiAgICAgICAgYWN0aW9uX3R5cGU6IHEuYWN0aW9uX3R5cGUsXG4gICAgICAgIHBheWxvYWQ6IHEucGF5bG9hZCxcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFfS9zeW5jYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogYXV0aEhlYWRlcnMoKSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHRlbmFudF9pZDogdGVuYW50SWQsXG4gICAgICAgICAgb3V0bGV0X2lkOiBvdXRsZXRJZCxcbiAgICAgICAgICBkZXZpY2VfaWQ6IGRldmljZUlkLFxuICAgICAgICAgIGl0ZW1zLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgY29uc3QgZXJyQm9keSA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJCb2R5IHx8IGBQdXNoIGZhaWxlZDogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBpZiAoZGF0YS52ZXJzaW9uX2lkICE9IG51bGwpIGF3YWl0IHNldE1heFZlcnNpb24oZGF0YS52ZXJzaW9uX2lkKTtcbiAgICAgIGZvciAoY29uc3QgciBvZiBkYXRhLnJlc3VsdHMgfHwgW10pIHtcbiAgICAgICAgaWYgKHIuc3RhdHVzID09PSAnYWNjZXB0ZWQnIHx8IHIuc3RhdHVzID09PSAnc3luY2VkJykge1xuICAgICAgICAgIGF3YWl0IGRiLnN5bmNfcXVldWUudXBkYXRlKHIucXVldWVfaWQsIHsgc3RhdHVzOiAnc3luY2VkJyB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChyLnN0YXR1cyA9PT0gJ2ZhaWxlZCcpIHtcbiAgICAgICAgICBhd2FpdCBkYi5zeW5jX3F1ZXVlLnVwZGF0ZShyLnF1ZXVlX2lkLCB7IHN0YXR1czogJ2ZhaWxlZCcsIGVycm9yX21lc3NhZ2U6IHIuZXJyb3IgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0aWxsUGVuZGluZyA9IGF3YWl0IGRiLnN5bmNfcXVldWUud2hlcmUoJ3N0YXR1cycpLmVxdWFscygncGVuZGluZycpLmNvdW50KCk7XG4gICAgICBzZXRQZW5kaW5nQ291bnQoc3RpbGxQZW5kaW5nKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zdCBtc2cgPSBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiAnUHVzaCBmYWlsZWQnO1xuICAgICAgc2V0TGFzdEVycm9yKG1zZyk7XG4gICAgICBzZXRTeW5jU3RhdGUoJ2Vycm9yJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldFN5bmNTdGF0ZSgnaWRsZScpO1xuICAgIGNvbnN0IHN0aWxsUGVuZGluZyA9IGF3YWl0IGRiLnN5bmNfcXVldWUud2hlcmUoJ3N0YXR1cycpLmVxdWFscygncGVuZGluZycpLmNvdW50KCk7XG4gICAgc2V0UGVuZGluZ0NvdW50KHN0aWxsUGVuZGluZyk7XG4gIH0sIFt0ZW5hbnRJZCwgb3V0bGV0SWQsIGRldmljZUlkLCBzZXRNYXhWZXJzaW9uXSk7XG5cbiAgY29uc3Qgc3luYyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWVuYWJsZWQpIHJldHVybjtcbiAgICBhd2FpdCBwdWxsKHRydWUpO1xuICAgIGF3YWl0IHB1c2goKTtcbiAgICBhd2FpdCBwdWxsKHRydWUpO1xuICB9LCBbZW5hYmxlZCwgcHVsbCwgcHVzaF0pO1xuXG4gIC8vIFdoZW4gb25saW5lIChhbmQgbm90IHNpbXVsYXRpbmcgb2ZmbGluZSksIGRvIGEgZnVsbCBwdWxsIG9uIHBhZ2UgbG9hZC5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIWVuYWJsZWQgfHwgIXRlbmFudElkIHx8ICFpc09ubGluZSkgcmV0dXJuO1xuICAgIHB1bGwodHJ1ZSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbdGVuYW50SWQsIGVuYWJsZWQsIGlzT25saW5lXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBjb25zdCBoYW5kbGVPbmxpbmUgPSAoKSA9PiB7XG4gICAgICBpZiAoIWdldFNpbXVsYXRlT2ZmbGluZSgpICYmIGVuYWJsZWQgJiYgdGVuYW50SWQpIHN5bmMoKTtcbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBoYW5kbGVPbmxpbmUpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25saW5lJywgaGFuZGxlT25saW5lKTtcbiAgfSwgW2VuYWJsZWQsIHRlbmFudElkLCBzeW5jXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgY2FuY2VsbGVkID0gZmFsc2U7XG4gICAgZGIuc3luY19xdWV1ZS53aGVyZSgnc3RhdHVzJykuZXF1YWxzKCdwZW5kaW5nJykuY291bnQoKS50aGVuKChjKSA9PiB7XG4gICAgICBpZiAoIWNhbmNlbGxlZCkgc2V0UGVuZGluZ0NvdW50KGMpO1xuICAgIH0pO1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgZGIuc3luY19xdWV1ZS53aGVyZSgnc3RhdHVzJykuZXF1YWxzKCdwZW5kaW5nJykuY291bnQoKS50aGVuKChjKSA9PiB7XG4gICAgICAgIGlmICghY2FuY2VsbGVkKSBzZXRQZW5kaW5nQ291bnQoYyk7XG4gICAgICB9KTtcbiAgICB9LCAyMDAwKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICByZXR1cm4ge1xuICAgIGlzT25saW5lLFxuICAgIHN5bmNTdGF0ZSxcbiAgICBsYXN0RXJyb3IsXG4gICAgcGVuZGluZ0NvdW50LFxuICAgIHN5bmMsXG4gICAgcHVsbCxcbiAgICBwdXNoLFxuICAgIHNpbXVsYXRlT2ZmbGluZSxcbiAgICBzZXRTaW11bGF0ZU9mZmxpbmUsXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsImRiIiwiZ2V0QXV0aFRva2VuIiwiU1lOQ19NRVRBX0tFWV9NQVhfVkVSU0lPTiIsIlNJTVVMQVRFX09GRkxJTkVfS0VZIiwiQVBJX0JBU0UiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImdldFNpbXVsYXRlT2ZmbGluZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJhdXRoSGVhZGVycyIsInRva2VuIiwiaCIsInVzZVN5bmNNYW5hZ2VyIiwidGVuYW50SWQiLCJvdXRsZXRJZCIsImRldmljZUlkIiwiZW5hYmxlZCIsInNpbXVsYXRlT2ZmbGluZSIsInNldFNpbXVsYXRlT2ZmbGluZVN0YXRlIiwiYWN0dWFsbHlPbmxpbmUiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJvbkxpbmUiLCJpc09ubGluZSIsInNldFNpbXVsYXRlT2ZmbGluZSIsInZhbHVlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJzeW5jU3RhdGUiLCJzZXRTeW5jU3RhdGUiLCJsYXN0RXJyb3IiLCJzZXRMYXN0RXJyb3IiLCJwZW5kaW5nQ291bnQiLCJzZXRQZW5kaW5nQ291bnQiLCJnZXRNYXhWZXJzaW9uIiwicm93Iiwic3luY19tZXRhIiwiZ2V0IiwidiIsInBhcnNlSW50Iiwic2V0TWF4VmVyc2lvbiIsInZlcnNpb24iLCJwdXQiLCJrZXkiLCJwdWxsIiwiZm9yY2VGdWxsU3luYyIsInRhYmxlcyIsIm1heFZlciIsImhhc0xvY2FsRGF0YSIsInByb2R1Y3RzIiwid2hlcmUiLCJlcXVhbHMiLCJjb3VudCIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcyIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsInNlcnZlcl9tYXhfdmVyc2lvbl9pZCIsImxlbmd0aCIsImRlbGV0ZWRfYXQiLCJ1cGRhdGUiLCJpZCIsInZlcnNpb25faWQiLCJ0ZW5hbnRfaWQiLCJza3UiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwcmljZSIsIk51bWJlciIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiaW52ZW50b3J5IiwicHJvZHVjdEtleSIsIm91dGxldF9pZCIsInByb2R1Y3RfaWQiLCJleGlzdGluZyIsInRvQXJyYXkiLCJlIiwiZGVsZXRlIiwicXVhbnRpdHkiLCJzYWxlcyIsImRldmljZV9pZCIsInNlc3Npb25faWQiLCJkZXZpY2VfdHJhbnNhY3Rpb25faWQiLCJ0b3RhbF9hbW91bnQiLCJzYWxlX2l0ZW1zIiwic2FsZV9pZCIsInVuaXRfcHJpY2UiLCJsaW5lX3RvdGFsIiwicG9zX3Nlc3Npb25zIiwidXNlcl9pZCIsIm9wZW5pbmdfYmFsYW5jZSIsImNsb3NpbmdfYmFsYW5jZSIsImV4cGVjdGVkX2JhbGFuY2UiLCJvcGVuZWRfYXQiLCJjbG9zZWRfYXQiLCJtc2ciLCJtZXNzYWdlIiwicHVzaCIsInBlbmRpbmciLCJzeW5jX3F1ZXVlIiwiaXRlbXMiLCJtYXAiLCJxIiwiYWN0aW9uX3R5cGUiLCJwYXlsb2FkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJCb2R5IiwidGV4dCIsInIiLCJyZXN1bHRzIiwicXVldWVfaWQiLCJlcnJvcl9tZXNzYWdlIiwiZXJyb3IiLCJzdGlsbFBlbmRpbmciLCJzeW5jIiwiaGFuZGxlT25saW5lIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjYW5jZWxsZWQiLCJ0aGVuIiwiYyIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useSyncManager.ts\n"));

/***/ })

});